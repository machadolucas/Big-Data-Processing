Place your Python code into a file named **emissions.py**. In addition return a file **emissions.png** created by your program.

The European Union has put forward an ambitious plan to reduce carbon emissions by 2030\. As part of this, Finland plans to cut the emissions from traffic to about half of the 2005 level. In light of this, in this question your task is to do a simple rough estimate how the CO<sub>2</sub> emissions of passenger vehicles in Finland will develop up to 2030 if the current trend continues (e.g. we do not take into account possible new regulations etc.).

Use the vehicle data from [Open data at Trafi](https://www.trafi.fi/en/information_services/open_data) and proceed as follows:

*   Concentrate only on passenger vehicles ("cars"): they have code "M1" or "M1G" in the column "ajoneuvoluokka" (= vehicle class).
*   Also drop all rows that do not have a value in the column "ensirekisterointipvm" and/or the column "Co2".
*   Derive from the passenger vehicle data a new table that has:
    *   One row for each different registering year of a car in the data set. E.g. one row for 2017, one for 2016, and so one.
        *   The registering date is given in the column "ensirekisterointipvm" as a plain string.
        *   You probably first want transform the dates to contain only the year (e.g. do **.apply(lambda x: x[:4])** to that column; this requires that you have already dropped rows with missing date values).
        *   The pandas function [pivot_table](https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.pivot_table.html#pandas.DataFrame.pivot_table) allows you to derive a table where row indices are derived from the registering date column (= the years).
    *   Each row (corresponding to a specific year) should have two columns:
        1.  The average CO<sub>2</sub> emissions, as g/km, for cars registered during the row's year.
        2.  The number of cars registered during the row's year.
*   Plot a scatter graph where the x-axis shows the year (in ascending order) and the y-axis shows the average CO<sub>2</sub> in that year.
*   Use three different regression methods to try to estimate how the CO<sub>2</sub> values are evolving over time.
    1.  Linear regression: [the linregress function](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.linregress.html) from scipy.stats.
    2.  Polynomial regression: [the polyfit funtion](https://docs.scipy.org/doc/numpy/reference/generated/numpy.polyfit.html) from numpy. Try e.g. polynomial orders 3, 7 and 11.
    3.  Non-linear regression: [the curve_fit](https://docs.scipy.org/doc/scipy-0.19.1/reference/generated/scipy.optimize.curve_fit.html) from scipy.optimize. Try e.g. a function **f(x, a, b, c)** of form **a * np.exp(-b *x) + c** as the fitting function. This formula corresponds to the mathematical function <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" role="math" style="width: 4.446em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.785em; height: 0px; font-size: 117%;"><span style="position: absolute; clip: rect(1.474em, 1003.77em, 2.727em, -1000em); top: -2.503em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mi" id="MathJax-Span-3" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="msubsup" id="MathJax-Span-4"><span style="display: inline-block; position: relative; width: 1.673em; height: 0px;"><span style="position: absolute; clip: rect(3.405em, 1000.41em, 4.223em, -1000em); top: -4.029em; left: 0em;"><span class="mi" id="MathJax-Span-5" style="font-family: STIXGeneral; font-style: italic;">e</span><span style="display: inline-block; width: 0px; height: 4.029em;"></span></span><span style="position: absolute; top: -4.392em; left: 0.444em;"><span class="texatom" id="MathJax-Span-6"><span class="mrow" id="MathJax-Span-7"><span class="mo" id="MathJax-Span-8" style="font-size: 70.7%; font-family: STIXGeneral;">−</span><span class="mi" id="MathJax-Span-9" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">b</span><span class="mi" id="MathJax-Span-10" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.029em;"></span></span></span></span><span class="mo" id="MathJax-Span-11" style="font-family: STIXGeneral; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-12" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.25em;">c</span></span><span style="display: inline-block; width: 0px; height: 2.503em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.119em; border-left: 0px solid; width: 0px; height: 1.18em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><msup><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mi>b</mi><mi>x</mi></mrow></msup><mo>+</mo><mi>c</mi></math></span><mi>a</mi><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mi>b</mi><mi>x</mi></mrow></msup><mo>+</mo><mi>c</mi></math>" role="presentation"></span><script type="math/tex" id="MathJax-Element-1">a e^{-b x} + c</script>.
        *   Here **exp** is a [function from numpy](https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.exp.html), so the preceding function formula requires you to do **import numpy as np** in your code.
*   Use the resulting functions from the previous curve fitting step in order to extrapolate the average CO<sub>2</sub> progression until the year 2030.
    *   Plot an image that shows both the scatter graph of the original CO<sub>2</sub> values and the estimating curves (in the same plot, in similar manner as e.g. on the bottom of the **linregress**, **polyfit** and **curve_fit** function documentation pages).
        *   **Additional note:** the part "until the year 2030" above implies that the x-axis range of the plot should cover values until the year 2030!
        *   This plot should be saved as **emissions.png** and returned.
*   Based on the estimating curves, also calculate and print out the average car CO<sub>2</sub> emissions in 2005, 2010, 2015 (actual values) and 2020, 2025 and 2030 (estimates). Print the latter values (= estimates) separately for each of the different fitting curve.

**Note 1:** When you do the curve fitting, it is better to use x-axis values of form 0, 1, 2, ... instead of the actual years 1990, 1991, 1992, .... This is important especially with non-linear fitting, which otherwise will most probably fail to find a meaningful fit. Why? Because otherwise the proposed fitting function <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-13" role="math" style="width: 3.068em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.815em; height: 0px; font-size: 80%;"><span style="position: absolute; clip: rect(1.427em, 1003.8em, 2.801em, -1000em); top: -2.516em; left: 0em;"><span class="mrow" id="MathJax-Span-14"><span class="mi" id="MathJax-Span-15" style="font-family: STIXGeneral; font-style: italic;">a</span><span class="msubsup" id="MathJax-Span-16"><span style="display: inline-block; position: relative; width: 1.673em; height: 0px;"><span style="position: absolute; clip: rect(3.293em, 1000.41em, 4.232em, -1000em); top: -3.977em; left: 0em;"><span class="mi" id="MathJax-Span-17" style="font-family: STIXGeneral; font-style: italic;">e</span><span style="display: inline-block; width: 0px; height: 3.977em;"></span></span><span style="position: absolute; top: -4.34em; left: 0.444em;"><span class="texatom" id="MathJax-Span-18"><span class="mrow" id="MathJax-Span-19"><span class="mo" id="MathJax-Span-20" style="font-size: 70.7%; font-family: STIXGeneral;">−</span><span class="mi" id="MathJax-Span-21" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">b</span><span class="mi" id="MathJax-Span-22" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em;"></span></span></span></span><span class="mo" id="MathJax-Span-23" style="font-family: STIXGeneral; padding-left: 0.25em;">+</span><span class="mi" id="MathJax-Span-24" style="font-family: STIXGeneral; font-style: italic; padding-left: 0.25em;">c</span></span><span style="display: inline-block; width: 0px; height: 2.516em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.098em; border-left: 0px solid; width: 0px; height: 0.839em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>a</mi><msup><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mi>b</mi><mi>x</mi></mrow></msup><mo>+</mo><mi>c</mi></math></span><mi>a</mi><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mi>b</mi><mi>x</mi></mrow></msup><mo>+</mo><mi>c</mi></math>" role="presentation"></span><script type="math/tex" id="MathJax-Element-2">a e^{-b x} + c</script> could involve exponentiation with powers of large magnitude (e.g. <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><nobr aria-hidden="true"><span class="math" id="MathJax-Span-25" role="math" style="width: 4.627em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.763em; height: 0px; font-size: 80%;"><span style="position: absolute; clip: rect(1.333em, 1005.76em, 3.373em, -1000em); top: -2.516em; left: 0em;"><span class="mrow" id="MathJax-Span-26"><span class="msubsup" id="MathJax-Span-27"><span style="display: inline-block; position: relative; width: 2.418em; height: 0px;"><span style="position: absolute; clip: rect(3.293em, 1000.41em, 4.232em, -1000em); top: -3.977em; left: 0em;"><span class="mi" id="MathJax-Span-28" style="font-family: STIXGeneral; font-style: italic;">e</span><span style="display: inline-block; width: 0px; height: 3.977em;"></span></span><span style="position: absolute; top: -4.34em; left: 0.444em;"><span class="texatom" id="MathJax-Span-29"><span class="mrow" id="MathJax-Span-30"><span class="mo" id="MathJax-Span-31" style="font-size: 70.7%; font-family: STIXGeneral;">−</span><span class="mn" id="MathJax-Span-32" style="font-size: 70.7%; font-family: STIXGeneral;">1990</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em;"></span></span></span></span><span class="mo" id="MathJax-Span-33" style="font-family: STIXGeneral; padding-left: 0.313em;">=</span><span class="mfrac" id="MathJax-Span-34" style="padding-left: 0.313em;"><span style="display: inline-block; position: relative; width: 1.786em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.256em, 1000.28em, 4.221em, -1000em); top: -4.439em; left: 50%; margin-left: -0.177em;"><span class="mn" id="MathJax-Span-35" style="font-size: 70.7%; font-family: STIXGeneral;">1</span><span style="display: inline-block; width: 0px; height: 3.977em;"></span></span><span style="position: absolute; clip: rect(3.091em, 1001.67em, 4.229em, -1000em); top: -3.372em; left: 50%; margin-left: -0.833em;"><span class="msubsup" id="MathJax-Span-36"><span style="display: inline-block; position: relative; width: 1.666em; height: 0px;"><span style="position: absolute; clip: rect(3.422em, 1000.29em, 4.229em, -1000em); top: -3.977em; left: 0em;"><span class="mi" id="MathJax-Span-37" style="font-size: 70.7%; font-family: STIXGeneral; font-style: italic;">e</span><span style="display: inline-block; width: 0px; height: 3.977em;"></span></span><span style="position: absolute; top: -4.182em; left: 0.314em;"><span class="texatom" id="MathJax-Span-38"><span class="mrow" id="MathJax-Span-39"><span class="mn" id="MathJax-Span-40" style="font-size: 64.9%; font-family: STIXGeneral;">1990</span></span></span><span style="display: inline-block; width: 0px; height: 3.977em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 3.977em;"></span></span><span style="position: absolute; clip: rect(0.791em, 1001.79em, 1.38em, -1000em); top: -1.356em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.786em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.136em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.516em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.555em; border-left: 0px solid; width: 0px; height: 1.373em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mo>−</mo><mn>1990</mn></mrow></msup><mo>=</mo><mfrac><mn>1</mn><msup><mi>e</mi><mrow class="MJX-TeXAtom-ORD"><mn>1990</mn></mrow></msup></mfrac></math></span><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mn>1990</mn></mrow></msup><mo>=</mo><mfrac><mn>1</mn><msup><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1990</mn></mrow></msup></mfrac></math>" role="presentation"></span><script type="math/tex" id="MathJax-Element-3">e^{-1990} = \frac{1}{e^{1990}}</script>), which in turn results in poor accuracy (floating point calculations have only a finite precision).

**Note 2:** As the CO<sub>2</sub> data behaves in a bit non-uniform manner during different time frames, perform the curve fitting twice. Once with the data for all years, and once with only years 2008-2017\. Using this latter restricted year interval gives a fairly reasonable result with non-linear curve fitting.